(function(){var e=function(t,n){var r=e.resolve(t,n||"/"),i=e.modules[r];if(!i)throw new Error("Failed to resolve module "+t+", tried "+r);var s=e.cache[r],o=s?s.exports:i();return o};e.paths=[],e.modules={},e.cache={},e.extensions=[".js",".coffee",".json"],e._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},e.resolve=function(){return function(t,n){function u(t){t=r.normalize(t);if(e.modules[t])return t;for(var n=0;n<e.extensions.length;n++){var i=e.extensions[n];if(e.modules[t+i])return t+i}}function a(t){t=t.replace(/\/+$/,"");var n=r.normalize(t+"/package.json");if(e.modules[n]){var i=e.modules[n](),s=i.browserify;if(typeof s=="object"&&s.main){var o=u(r.resolve(t,s.main));if(o)return o}else if(typeof s=="string"){var o=u(r.resolve(t,s));if(o)return o}else if(i.main){var o=u(r.resolve(t,i.main));if(o)return o}}return u(t+"/index")}function f(e,t){var n=l(t);for(var r=0;r<n.length;r++){var i=n[r],s=u(i+"/"+e);if(s)return s;var o=a(i+"/"+e);if(o)return o}var s=u(e);if(s)return s}function l(e){var t;e==="/"?t=[""]:t=r.normalize(e).split("/");var n=[];for(var i=t.length-1;i>=0;i--){if(t[i]==="node_modules")continue;var s=t.slice(0,i+1).join("/")+"/node_modules";n.push(s)}return n}n||(n="/");if(e._core[t])return t;var r=e.modules.path();n=r.resolve("/",n);var i=n||"/";if(t.match(/^(?:\.\.?\/|\/)/)){var s=u(r.resolve(i,t))||a(r.resolve(i,t));if(s)return s}var o=f(t,i);if(o)return o;throw new Error("Cannot find module '"+t+"'")}}(),e.alias=function(t,n){var r=e.modules.path(),i=null;try{i=e.resolve(t+"/package.json","/")}catch(s){i=e.resolve(t,"/")}var o=r.dirname(i),u=(Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t})(e.modules);for(var a=0;a<u.length;a++){var f=u[a];if(f.slice(0,o.length+1)===o+"/"){var l=f.slice(o.length);e.modules[n+l]=e.modules[o+l]}else f===o&&(e.modules[n]=e.modules[o])}},function(){var t={};e.define=function(n,r){e.modules.__browserify_process&&(t=e.modules.__browserify_process());var i=e._core[n]?"":e.modules.path().dirname(n),s=function(t){var n=e(t,i),r=e.cache[e.resolve(t,i)];return r&&r.parent===null&&(r.parent=o),n};s.resolve=function(t){return e.resolve(t,i)},s.modules=e.modules,s.define=e.define,s.cache=e.cache;var o={id:n,filename:n,exports:{},loaded:!1,parent:null};e.modules[n]=function(){return e.cache[n]=o,r.call(o.exports,s,o,o.exports,i,n,t),o.loaded=!0,o.exports}}}(),e.define("path",function(e,t,n,r,i,s){function o(e,t){var n=[];for(var r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function u(e,t){var n=0;for(var r=e.length;r>=0;r--){var i=e[r];i=="."?e.splice(r,1):i===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var a=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){var e="",t=!1;for(var n=arguments.length;n>=-1&&!t;n--){var r=n>=0?arguments[n]:s.cwd();if(typeof r!="string"||!r)continue;e=r+"/"+e,t=r.charAt(0)==="/"}return e=u(o(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},n.normalize=function(e){var t=e.charAt(0)==="/",n=e.slice(-1)==="/";return e=u(o(e.split("/"),function(e){return!!e}),!t).join("/"),!e&&!t&&(e="."),e&&n&&(e+="/"),(t?"/":"")+e},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(o(e,function(e,t){return e&&typeof e=="string"}).join("/"))},n.dirname=function(e){var t=a.exec(e)[1]||"",n=!1;return t?t.length===1||n&&t.length<=3&&t.charAt(1)===":"?t:t.substring(0,t.length-1):"."},n.basename=function(e,t){var n=a.exec(e)[2]||"";return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return a.exec(e)[3]||""}}),e.define("__browserify_process",function(e,t,n,r,i,s){var s=t.exports={};s.nextTick=function(){var e=typeof window!="undefined"&&window.setImmediate,t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;if(e)return window.setImmediate;if(t){var n=[];return window.addEventListener("message",function(e){if(e.source===window&&e.data==="browserify-tick"){e.stopPropagation();if(n.length>0){var t=n.shift();t()}}},!0),function(t){n.push(t),window.postMessage("browserify-tick","*")}}return function(t){setTimeout(t,0)}}(),s.title="browser",s.browser=!0,s.env={},s.argv=[],s.binding=function(t){if(t==="evals")return e("vm");throw new Error("No such module. (Possibly not yet loaded)")},function(){var t="/",n;s.cwd=function(){return t},s.chdir=function(r){n||(n=e("path")),t=n.resolve(r,t)}}()}),e.define("/calc.js",function(e,t,n,r,i,s){function o(e,t){function r(e){var r=t.filter(function(t){return t.name===e.name});n.calories+=r[0].cal*e.qty,n.protein+=r[0].p*e.qty,n.carbs+=r[0].c*e.qty,n.fat+=r[0].f*e.qty}var n={calories:0,protein:0,carbs:0,fat:0};return e.forEach(r),n}t.exports=o}),e.define("/calcExtra.js",function(e,t,n,r,i,s){function o(e){function n(e,n,r){t.cal+=e.cal,t.p+=e.p,t.c+=e.c,t.f+=e.f}var t={cal:0,p:0,c:0,f:0};return e.forEach(n),t}t.exports=o}),e.define("/roundTotal.js",function(e,t,n,r,i,s){function o(e){var t={};return t.calories=Math.round(e.calories),t.protein=Math.round(e.protein),t.carbs=Math.round(e.carbs),t.fat=Math.round(e.fat),t}t.exports=o}),e.define("/controllers.js",function(e,t,n,r,i,s){"use strict";angular.module("calApp").controller("FoodCtrl",function(t,n,r){function u(e,t,n){n({method:"GET",url:"/user"}).success(function(e,n,r,i){t.items=e.food,e.foodEaten!==undefined&&e.foodEaten.length>0&&(t.foodEaten=!0),t.eaten=e.foodEaten===undefined?[]:e.foodEaten,e.total!==undefined&&(t.total=e.total,t.roundedTotal=o(t.total)),e.total!==undefined&&(t.extra=e.extraFood,t.foodEaten=!0,m(t.roundedTotal.calories))}).error(function(e,t,n,r){console.log("error",t)})}function a(e){return{calories:100,protein:50,carbs:12,fat:4}}function f(e,t,n,r){e({method:"PUT",url:"/user",data:{food:t,total:n,extraFood:r}}).success(function(e,t,n,r){console.log("add eaten food",e)}).error(function(e,t,n,r){console.log("error",t)})}function l(e,n,r,i){e({method:"PUT",url:"/user",data:{extraFood:n,newFood:r,total:i}}).success(function(e,n,r,i){t.extraFood=null,m(t.roundedTotal.calories)}).error(function(e,t,n,r){console.log("error",t)})}function c(e,t){e.hideSignup=t.loggedin,e.total={calories:0,protein:0,carbs:0,fat:0},e.roundedTotal=o(e.total),e.foodEaten=!1,e.showAdd=!1,e.addButton=!0,e.temporaryFood=!1,e.eaten=[],e.extra=[],e.extraFood=null}function h(e){t.foodEaten=!0;var n=!1,r=0;t.eaten.forEach(function(i){e===i.name&&(t.eaten[r].qty+=1,n=!0),r+=1}),n===!1&&t.eaten.push({name:e,qty:1})}function p(e){e!==null?n({method:"POST",url:"/login",data:e}).success(function(e,t,n,r){e===null?(console.log("couldn't login. no data returned"),d()):e.status==="failure"?(console.log("couldn't login.",e.reason),d()):v(e)}).error(function(e,t,n,r){console.log("login failure",t)}):d()}function d(){console.log("logout the user")}function v(e){t.hideSignup=!0,u(e.email,t,n)}function m(e){document.title="Y U NO BIG ? "+e}var i=e("./calc.js"),s=e("./calcExtra.js"),o=e("./roundTotal.js");c(t,r),u("test@gmail.com",t,n),t.addItem=function(e){t.total.calories+=e.cal,t.total.protein+=e.p,t.total.carbs+=e.c,t.total.fat+=e.f,t.roundedTotal=o(t.total),h(e.name),f(n,t.eaten,t.total),m(t.roundedTotal.calories)},t.addFood=function(){t.addButton=!1,t.showAdd=!0},t.addExtra=function(){var e={name:t.extraFood.name,cal:t.extraFood.cal?parseInt(t.extraFood.cal,10):0,p:t.extraFood.p?parseInt(t.extraFood.p,10):0,c:t.extraFood.c?parseInt(t.extraFood.c,10):0,f:t.extraFood.f?parseInt(t.extraFood.f,10):0};t.total.calories+=e.cal,t.total.protein+=e.p,t.total.carbs+=e.c,t.total.fat+=e.f,t.roundedTotal=o(t.total),t.foodEaten=!0,t.temporaryFood&&(console.log("there"),t.extra.push(e)),m(t.roundedTotal.calories)},t.cancelAdd=function(){t.addButton=!0,t.showAdd=!1},t.signIn=function(){return navigator.id.get(p),!1},t.update=function(){var e={cal:0,p:0,c:0,f:0};t.extra.length!==0&&(e=s(t.extra));var r=i(t.eaten,t.items);t.total.calories=r.calories+e.cal,t.total.protein=r.protein+e.p,t.total.carbs=r.carbs+e.c,t.total.fat=r.fat+e.f,t.roundedTotal=o(t.total),m(t.roundedTotal.calories),f(n,t.eaten,t.total,t.extra)},t.clear=function(){t.foodEaten=!1,t.eaten=[],t.extra=[],t.total={calories:0,protein:0,carbs:0,fat:0},t.roundedTotal=o(t.total),f(n,t.eaten,t.total,t.extra),m(t.roundedTotal.calories)},t.qtyChanged=function(){t.update()}})}),e("/controllers.js"),e.define("/calc.js",function(e,t,n,r,i,s){function o(e,t){function r(e){var r=t.filter(function(t){return t.name===e.name});n.calories+=r[0].cal*e.qty,n.protein+=r[0].p*e.qty,n.carbs+=r[0].c*e.qty,n.fat+=r[0].f*e.qty}var n={calories:0,protein:0,carbs:0,fat:0};return e.forEach(r),n}t.exports=o}),e("/calc.js"),e.define("/calcExtra.js",function(e,t,n,r,i,s){function o(e){function n(e,n,r){t.cal+=e.cal,t.p+=e.p,t.c+=e.c,t.f+=e.f}var t={cal:0,p:0,c:0,f:0};return e.forEach(n),t}t.exports=o}),e("/calcExtra.js")})();